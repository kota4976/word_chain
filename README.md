# しりとりゲームアプリの概要

## 1. 実装した機能やデザインの詳細な説明

### I. 機能

このしりとりゲームには、対戦をより面白く、公平にするための以下の機能を実装しています。

| 機能名 | 説明 |
| :--- | :--- |
| **リアルタイム単語チェック** | 入力された単語をバックエンドの**Python (Flask) サーバー**にAPI経由で送信し、**日本語形態素解析エンジンMeCab**を利用して、**単語の実在**と**品詞**（名詞、動詞、形容詞など）のしりとり使用可否を瞬時に判定。不毛な単語の存在論争をなくします。 |
| **マルチプレイヤーシステム** | **2人から4人**までのプレイヤーに対応（**1台の端末でのオフライン対戦**を想定）。現在のプレイヤーを表示し、単語が受理されると自動的に次のプレイヤーにターンが移行します。 |
| **タイマー機能** | 1ターンごとの制限時間（**10秒、20秒、30秒、無制限**）を設定可能。残り時間が**5秒以下**になるとタイマーが**赤く表示**され、プレイヤーに警告します。 |
| **履歴機能** | プレイヤーが入力した単語を、入力者情報とともに画面下部にリスト表示。ゲームの流れをいつでも振り返ることができます。 |
| **特殊ルール** | |
| **・パス** | 各プレイヤーはゲーム中に**一度だけ**「パス」を宣言し、自分のターンをスキップできます。戦略的な使い方が可能です。 |
| **・子音マッチ** | 有効にすると、前の単語の最後の文字に加え、**同じ行のカナ**（例：「か」行、「さ」行）で始まる単語も使用可能になり、手詰まりを回避しやすくなります。 |

---

### II. デザイン

| 要素 | 詳細 |
| :--- | :--- |
| **コンセプト** | **シンプルで直感的**な操作性を最優先。誰でもすぐにルールを理解し、ゲームに集中できるUIを目指しました。 |
| **レイアウト** | 画面**中央**にゲームの主要な要素（前の単語、入力欄、ボタン）を集中配置。履歴やプレイヤー情報は画面**下部**に配置し、メインのプレイを妨げない設計です。 |
| **配色** | **白を基調**としたクリーンな配色を採用し、長時間プレイでも目が疲れにくいように配慮。エラーメッセージ（赤）、情報メッセージ（青）、残り時間警告（赤）で視覚的に状況を把握しやすくしています。 |

---

## 2. アプリの動作確認の方法

デプロイ済みのアプリケーションは、以下のURLから直接確認できます。

URL: **https://tamago-lab.com/shiritori/**

---

## 3. 参考にしたWebサイト

特に参考にしたWebサイトはありません。不明点は**AIに質問し、修正**を行いました。

---

## 4. AIの活用について

AIは主に**ロジック設計の拡張性向上、コードの改善、デバッグ、スタイリング**に活用されました。

| 活用分野 | 具体的な内容 |
| :--- | :--- |
| **しりとり判定ロジック** | 長音記号「ー」や拗音・促音「ゃ」「っ」などを無視して末尾を判定するユーティリティ関数を設計し、正規化処理を**一元化**。ルール追加時にロジック変更が不要な**拡張性の高い構造**を実現しました。 |
| **独自ルール「子音マッチ」** | 50音を「あ行」「か行」などの**行にマッピングする辞書**を生成し、瞬時に行判定を可能にしました。子音判定の特殊モードでも同じAPIを再利用できる設計です。 |
| **リファクタリング (Denoサーバー)** | 静的ファイル配信処理を「拡張子→MIMEタイプ」の**変換テーブル**に置き換え、冗長な`case`文を廃止。ルート追加時の保守コストを削減しました。 |
| **変数名改善と可読性向上** | `result`などの汎用名を`validationResponse`など**文脈を示す具体的な名前**へ変更。**ESLintの`no-magic-strings`ルール**導入で可読性を向上させました。 |
| **CSSスタイリング** | 実現したいデザインのイメージを伝え、**AIにコードを生成**してもらいました。細かなレイアウト調整は自身で行いました。 |
| **デバッグと問題解決** | 開発中に発生した**CORSエラー、500 Internal Server Error、プロキシ設定の不備、systemdの起動失敗**など、多くのエラーログをAIに提示し、原因特定と具体的な解決策の提案を受けました。 |
